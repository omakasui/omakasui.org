---
const { status } = Astro.props;

type Status =
  | "archived"
  | "work-in-progress"
  | "stable"
  | "experimental"
  | "paused";

const statusIcons: Record<Status, { icon?: string; label: string }> = {
  archived: {
    icon: "nf-md-archive",
    label: "Archived",
  },
  "work-in-progress": {
    icon: "nf-md-crane",
    label: "Work in Progress",
  },
  stable: {
    label: "Stable",
  },
  experimental: {
    icon: "nf-md-test_tube",
    label: "Experimental",
  },
  paused: {
    icon: "nf-md-pause_circle",
    label: "Paused",
  },
} as const;

const statusIcon = (status: Status): string | null => {
  return statusIcons[status]?.icon ?? null;
};

const statusLabel = (status: Status): string => {
  return statusIcons[status]?.label ?? "";
};

if (!status || !(status in statusIcons)) {
  throw new Error(`Invalid status: ${status}`);
}

if (!statusIcon(status)) {
  return null;
}
---

<i
  class={`nf ${statusIcon(status)}`}
  title={statusLabel(status)}
  aria-label={statusLabel(status)}></i>
